AnyObject #사용방법 1. 타입캐스팅


1. AnyObject를 사용하는 방법은 우리가 아는 타입으로 변환해줬을때 사용 가능해진다. 변환하려고 했을때 그 타입이 아닐 수도 있으니까 “as”라는 키워드를 쓰게되는데 이것
은 다른 타입으로 변환하는걸 “시도”하는 표현이다. 다시말해 AnyObject를 어떤 타입 ‘으로서(as)’ 대하겠다는 뜻이다(선택적) 그래서 이것은 항상 옵셔널로 반환한다

Let ao: AnyObject = …
If let foo = ao as? SomeClass {
	// we can use foo and know that it is of type SomeClass in here
}

- as는 보통 if let과 같이 쓰는데 as 가 옵셔널을 반환하니까
- Ao 라는 AnyObject타입의 지역변수가 하나 있는데 내가 모르는 어떤 클래스(SomeClass)에 할당이 될 것이다, 그렇지만 ao가 SomeClass라면 사용하려고 시도해볼것이
다 ao는 SomeClass일지도 모르니까 SomeClass가 맞는지 보고 맞다면 SomeClass로 쓸것이다

그래서 위의 구문대로 실행하면 { } 안에 AnyObject가 아닌 SomeClass타입인 지역변수 foo가 들어가게 된다는 말이다.

- 기본적으로 AnyObject를 특정한 클래스로 ‘캐스팅’하는 것이다 조건에 맞게

%Example

@IBAction func touchDigit(sender : AnyObject) {
	if let sendingButton = sender as? UIButton {
		let digit = sendingButton.currentTitile!
		…
	} else if let sendingSlider = sender as? UISlider {
// digit 상수에 Double타입인 sendingSlider 값을 Int로 바꾸고 그걸 String으로 변환한 걸 넣어주게 된다
		let digit = String(Int(sendingSlider.value))
		// sendingSlider.value를 int로 감싸고 그걸 다시 String으로 타입 캐스팅
		…
	}
}

- 옵셔널을 사용하여 if - let - else 구문을 만듬, 이것이 기본적으로  AnyObject를 사용하기 위한 표현법이다
